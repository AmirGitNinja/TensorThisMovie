{"version":3,"sources":["js/fileArea.js"],"names":["animateButton","e","preventDefault","target","classList","remove","add","setTimeout","initButtonAnimations","bubblyButtons","document","getElementsByClassName","i","length","addEventListener","svgDoc","svgText","svgAnimation","videoNode","getElementById","fileChooseButton","fileInput","getFileNameFromUrl","fileUrl","fileNameToResult","split","pop","setVideoTitle","videoFileName","textContent","beginElement","onFileChooseClick","click","localFileVideoPlayerInit","win","URL","webkitURL","playSelectedFile","playSelectedFileInit","event","file","files","type","canPlay","canPlayType","message","isError","console","log","fileURL","createObjectURL","src","name","play","window","initFileAreaEvents","contentDocument","vidSource","vid","querySelector","demoVidName","onFileAreaLoaded","onFileAreaReady","attachEvent"],"mappings":"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","file":"fileArea.8f44ffd1.map","sourceRoot":"..","sourcesContent":["/* Handle file chooser animation button */\r\nvar animateButton = function (e) {\r\n    e.preventDefault;\r\n    //reset animation\r\n    e.target.classList.remove('animate');\r\n\r\n    e.target.classList.add('animate');\r\n    setTimeout(function () {\r\n        e.target.classList.remove('animate');\r\n    }, 700);\r\n};\r\n\r\nfunction initButtonAnimations() {\r\n    var bubblyButtons = document.getElementsByClassName(\"bubbly-button\");\r\n\r\n    for (var i = 0; i < bubblyButtons.length; i++) {\r\n        bubblyButtons[i].addEventListener('click', animateButton, false);\r\n    };\r\n}\r\n\r\n/* Global Members */\r\nlet svgDoc;\r\nlet svgText;\r\nlet svgAnimation;\r\nconst videoNode = document.getElementById('vid');\r\nconst fileChooseButton = document.getElementById(\"fileChooseBtn\");\r\nconst fileInput = document.getElementById(\"fileInput\");\r\n\r\n/* Handle File-choose area events and components. */\r\nfunction getFileNameFromUrl(fileUrl) {\r\n    let fileNameToResult = '';\r\n\r\n    if (fileUrl) {\r\n        fileNameToResult = fileUrl.split('/').pop();\r\n    }\r\n\r\n    return fileNameToResult;\r\n};\r\n\r\nfunction setVideoTitle(videoFileName) {\r\n    svgText.textContent = `Current video: ${videoFileName}`;\r\n    svgAnimation.beginElement();\r\n}\r\n\r\nfunction onFileChooseClick() {\r\n    fileInput.click();\r\n}\r\n\r\n(function localFileVideoPlayerInit(win) {\r\n    const URL = win.URL || win.webkitURL,\r\n        playSelectedFile = function playSelectedFileInit(event) {\r\n            const file = this.files[0];\r\n            const type = file.type;\r\n            let canPlay = videoNode.canPlayType(type);\r\n\r\n            canPlay = (canPlay === '' ? 'no' : canPlay);\r\n\r\n            const message = 'Can play type \"' + type + '\": ' + canPlay;\r\n\r\n            const isError = canPlay === 'no';\r\n\r\n            if (isError) {\r\n                console.log(message);\r\n                return;\r\n            }\r\n\r\n            // Change video element to play the new file URL:\r\n            const fileURL = URL.createObjectURL(file);\r\n            videoNode.src = fileURL;\r\n\r\n            setVideoTitle(file.name);\r\n\r\n             // Play the video after file is loaded.\r\n             videoNode.play();\r\n        };\r\n\r\n    if (!URL) {\r\n        console.log('Your browser is not ' + '(http://caniuse.com/bloburls)\" supported!');\r\n\r\n        return;\r\n    }\r\n\r\n    // Register to 'file is chosen' event:\r\n    fileInput.addEventListener('change', playSelectedFile, false);\r\n}(window));\r\n\r\n// Init logic:\r\nfunction initFileAreaEvents() {\r\n    svgDoc = document.getElementById(\"fileNameObject\").contentDocument;\r\n    svgText = svgDoc.getElementById(\"svgtext\");\r\n    svgAnimation = svgDoc.getElementById(\"pathAnimation\");\r\n\r\n    // Setting default movie title:\r\n    const vidSource = vid.querySelector('source');\r\n    const demoVidName = getFileNameFromUrl(vidSource.src);\r\n\r\n    setVideoTitle(demoVidName);\r\n\r\n    // Register to file chooser event\r\n    fileChooseButton.addEventListener('click', onFileChooseClick, false);\r\n}\r\n\r\nfunction onFileAreaLoaded() {\r\n}\r\n\r\nfunction onFileAreaReady() {\r\n    initButtonAnimations();\r\n    svgDoc = document.getElementById(\"fileNameObject\");\r\n    svgDoc.addEventListener('load', initFileAreaEvents, false);\r\n}\r\n\r\n// Register to 'Onload' events:\r\ndocument.addEventListener(\"DOMContentLoaded\", onFileAreaReady, false);\r\n\r\nif (window.addEventListener) {\r\n    window.addEventListener('load', onFileAreaLoaded, false); //W3C\r\n} else {\r\n    window.attachEvent('onload', onFileAreaLoaded); //IE\r\n}\r\n\r\n"]}